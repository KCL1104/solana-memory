(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1647:function(e,t,n){Promise.resolve().then(n.t.bind(n,3385,23)),Promise.resolve().then(n.t.bind(n,2267,23)),Promise.resolve().then(n.t.bind(n,7469,23)),Promise.resolve().then(n.t.bind(n,6010,23)),Promise.resolve().then(n.bind(n,5251))},5251:function(e,t,n){"use strict";n.r(t),n.d(t,{Providers:function(){return p}});var c=n(7437),i=n(2265),r=n(9399),l=n(6039),s=n(6825),a=n(3783),o=n(3438);n(1800);var u=n(2086),d=n(3446),f=n(6211),h=n(5960),b=n(783),g=n(3397);function y(e){let{children:t}=e;return!function(){let{connection:e}=(0,u.R)(),t=(0,d.O)(),{setConnected:n,setConnecting:c,setDisconnecting:r}=(0,h.Z)(),{reset:l,setExists:s}=(0,h.Oh)(),{clear:a}=(0,h.gL)(),{setClient:o,client:g}=(0,h.qr)(),y=(0,b.d)();(0,i.useEffect)(()=>{e&&!g&&o(new f.Ct(e,f.N8))},[e,g,o]),(0,i.useEffect)(()=>{n(t.connected,t.publicKey),c(t.connecting),r(t.disconnecting)},[t.connected,t.publicKey,t.connecting,t.disconnecting,n,c,r]),(0,i.useEffect)(()=>{t.connected&&t.publicKey&&g&&p()},[t.connected,t.publicKey,g]),(0,i.useEffect)(()=>{t.connected||t.connecting||(l(),a())},[t.connected,t.connecting,l,a]);let p=(0,i.useCallback)(async()=>{if(g&&t.publicKey)try{let e=t.publicKey,n=await g.vaultExists(e,e);if(s(n),n){let[t]=g.findVaultPda(e,e),[n]=g.findProfilePda(e),c=await g.getVault(t),i=await g.getAgentProfile(n),{setVault:r,setProfile:l}=h.qr.getState();c&&r(c),i&&l(i)}}catch(e){console.error("Failed to check vault:",e),y.error("Vault Check Failed","Failed to check vault existence")}},[g,t.publicKey,s,y]);(0,i.useCallback)(async()=>{if(!g||!t.publicKey){y.error("Not Connected","Please connect your wallet first");return}try{let e=t.publicKey,[n]=g.findVaultPda(e,e),[c]=g.findProfilePda(e),i=await g.getVault(n),r=await g.getAgentProfile(c),{setVault:l,setProfile:s}=h.qr.getState();if(i&&l(i),r&&s(r),i){let e=await g.listMemories(n);if(e.length>0){let t=await g.getMultipleMemoryShards(e),{setMemories:n}=h.qr.getState();n(t.filter(e=>null!==e))}}y.success("Refreshed","Data refreshed successfully")}catch(e){y.error("Refresh Failed","Failed to refresh data")}},[g,t.publicKey,y]),g&&t.connected}(),(0,c.jsx)(c.Fragment,{children:t})}function p(e){let{children:t}=e,u=s.Q.Devnet,d=(0,i.useMemo)(()=>(0,o.clusterApiUrl)(u),[u]),f=(0,i.useMemo)(()=>{let{PhantomWalletAdapter:e}=n(6416),{SolflareWalletAdapter:t}=n(2055);return[new e,new t]},[]);return(0,c.jsx)(g.f,{children:(0,c.jsx)(r.U,{endpoint:d,children:(0,c.jsx)(l.n,{wallets:f,autoConnect:!0,children:(0,c.jsx)(a.s,{children:(0,c.jsxs)(y,{children:[t,(0,c.jsx)(b.m,{})]})})})})})}},3385:function(){}},function(e){e.O(0,[218,814,167,302,190,971,938,744],function(){return e(e.s=1647)}),_N_E=e.O()}]);