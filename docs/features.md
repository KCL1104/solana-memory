# AgentMemory Protocol åŠŸèƒ½èªªæ˜

## ğŸ“‹ åŠŸèƒ½ç¸½è¦½

AgentMemory Protocol æä¾›å®Œæ•´çš„å»ä¸­å¿ƒåŒ–è¨˜æ†¶å„²å­˜è§£æ±ºæ–¹æ¡ˆï¼Œå¾åº•å±¤åŠ å¯†åˆ°é«˜å±¤èªç¾©æœå°‹ï¼Œè®“é–‹ç™¼è€…èƒ½è¼•é¬†ç‚º AI Agent æ·»åŠ æŒä¹…è¨˜æ†¶èƒ½åŠ›ã€‚

---

## ğŸ” 1. å®‰å…¨è¨˜æ†¶å„²å­˜

### ç«¯åˆ°ç«¯åŠ å¯†

æ‰€æœ‰è¨˜æ†¶è³‡æ–™åœ¨å®¢æˆ¶ç«¯é€²è¡Œ **ChaCha20-Poly1305** åŠ å¯†ï¼Œç¢ºä¿åªæœ‰æˆæ¬Šçš„ Agent èƒ½å¤ è§£å¯†ï¼š

```typescript
// åŠ å¯†æµç¨‹ï¼ˆè‡ªå‹•è™•ç†ï¼‰
æ˜æ–‡è¨˜æ†¶ â†’ ChaCha20-Poly1305 åŠ å¯† â†’ ZK å£“ç¸® â†’ Solana éˆä¸Šå„²å­˜
```

**å®‰å…¨ç‰¹æ€§ï¼š**
- âœ… å®¢æˆ¶ç«¯åŠ å¯†ï¼šè³‡æ–™é›¢é–‹è£ç½®å‰å·²åŠ å¯†
- âœ… é‡‘é‘°æ´¾ç”Ÿï¼šåŸºæ–¼ Agent ID æ´¾ç”Ÿå”¯ä¸€é‡‘é‘°
- âœ… èªè­‰åŠ å¯†ï¼šåŒæ™‚ä¿è­‰æ©Ÿå¯†æ€§å’Œå®Œæ•´æ€§
- âœ… ç„¡å¾Œé–€ï¼šé€£é–‹ç™¼åœ˜éšŠä¹Ÿç„¡æ³•è§£å¯†ç”¨æˆ¶è³‡æ–™

### è¨˜æ†¶çµæ§‹

```typescript
interface Memory {
  id: string;           // å”¯ä¸€è­˜åˆ¥ç¢¼
  content: string;      // åŠ å¯†å¾Œçš„å…§å®¹
  timestamp: number;    // å‰µå»ºæ™‚é–“æˆ³
  importance: 'low' | 'medium' | 'high';  // é‡è¦æ€§ç­‰ç´š
  tags: number[];       // æ¨™ç±¤åˆ†é¡ (8-byte array, matches on-chain [u8; 8])
  metadata: {           // é¡å¤–å…ƒæ•¸æ“š
    category?: string;
    source?: string;
    expiresAt?: number;
  };
}
```

---

## âš¡ 2. ZK Compressionï¼ˆé›¶çŸ¥è­˜å£“ç¸®ï¼‰

### 100 å€æˆæœ¬é™ä½

åˆ©ç”¨ Solana çš„ **ZK Compression** æŠ€è¡“ï¼Œå°‡å„²å­˜æˆæœ¬å¾æ¯ç­† $0.01-0.1 é™ä½åˆ° $0.0001-0.001ï¼š

| å„²å­˜æ–¹å¼ | å–®ç­†æˆæœ¬ | 10,000 ç­†æˆæœ¬ |
|---------|---------|--------------|
| å‚³çµ±éˆä¸Šå„²å­˜ | $0.05 | $500 |
| ZK Compression | $0.0005 | $5 |
| **ç¯€çœ** | **99%** | **$495** |

### æŠ€è¡“åŸç†

```
åŸå§‹è³‡æ–™ â†’ Merkle æ¨¹èšåˆ â†’ ZK Proof ç”Ÿæˆ â†’ ç‹€æ…‹æ ¹ä¸Šéˆ
                â†“
         è³‡æ–™å„²å­˜åœ¨ RPC ç¯€é»
                â†“
      é©—è­‰æ™‚æä¾› Merkle Proof
```

**å„ªå‹¢ï¼š**
- ğŸš€ ååé‡ï¼šæ”¯æ´æ¯ç§’æ•¸åƒç­†è¨˜æ†¶å¯«å…¥
- ğŸ’° ç¶“æ¿Ÿæ€§ï¼šå°è¦æ¨¡ Agent ä¹Ÿèƒ½è² æ“”éˆä¸Šå„²å­˜
- ğŸ” å¯é©—è­‰æ€§ï¼šä»»ä½•äººéƒ½èƒ½é©—è­‰è³‡æ–™å®Œæ•´æ€§
- ğŸŒ å»ä¸­å¿ƒåŒ–ï¼šä¸ä¾è³´å–®ä¸€å„²å­˜æä¾›å•†

---

## ğŸ” 3. èªç¾©æœå°‹

### å‘é‡ç›¸ä¼¼åº¦æª¢ç´¢

åŸºæ–¼ **OpenAI Embeddings** æˆ–è‡ªæ‰˜ç®¡æ¨¡å‹ï¼Œæ”¯æ´è‡ªç„¶èªè¨€æŸ¥è©¢ï¼š

```typescript
// èªç¾©æœå°‹ç¯„ä¾‹
const memories = await memory.search({
  query: "ç”¨æˆ¶å°é¢¨éšªçš„æ…‹åº¦",
  limit: 5,
  threshold: 0.7  // ç›¸ä¼¼åº¦é–¾å€¼
});
```

**æœå°‹èƒ½åŠ›ï¼š**
- ğŸ”¤ è‡ªç„¶èªè¨€ï¼šç”¨æ—¥å¸¸èªè¨€æè¿°æƒ³æ‰¾çš„è¨˜æ†¶
- ğŸ·ï¸ æ¨™ç±¤éæ¿¾ï¼šæŒ‰é¡åˆ¥ã€æ™‚é–“ã€é‡è¦æ€§ç¯©é¸
- ğŸ“Š ç›¸ä¼¼åº¦æ’åºï¼šè‡ªå‹•æŒ‰ç›¸é—œæ€§æ’åºçµæœ
- âš¡ æ¯«ç§’å›æ‡‰ï¼š<1ms å®Œæˆåƒç´šè¨˜æ†¶æœå°‹

### æ··åˆæœå°‹ç­–ç•¥

çµåˆå¤šç¨®æœå°‹æ–¹å¼ï¼Œç¢ºä¿æ‰¾åˆ°æœ€ç›¸é—œçš„è¨˜æ†¶ï¼š

```typescript
interface SearchOptions {
  // èªç¾©æœå°‹
  query?: string;
  embedding?: number[];
  
  // çµæ§‹åŒ–éæ¿¾
  tags?: number[];
  importance?: string;
  timeRange?: { start: number; end: number };
  
  // çµæœæ§åˆ¶
  limit?: number;
  threshold?: number;
}
```

---

## ğŸ”Œ 4. ElizaOS æ•´åˆ

### åŸç”Ÿæ’ä»¶æ”¯æ´

AgentMemory æ˜¯ **ElizaOS** çš„å®˜æ–¹èªè­‰æ’ä»¶ï¼Œæä¾›ç„¡ç¸«æ•´åˆï¼š

```typescript
// ElizaOS é…ç½®
const character = {
  plugins: ["@agentmemory/eliza-plugin"],
  settings: {
    agentMemory: {
      enabled: true,
      agentId: "trading-bot-001",
      encryptionKey: process.env.MEMORY_KEY
    }
  }
};
```

### è‡ªå‹•è¨˜æ†¶ç®¡ç†

```typescript
// è‡ªå‹•å„²å­˜å°è©±è¨˜æ†¶
eliza.on("message", async (msg) => {
  await memory.store({
    content: msg.content,
    tags: ["conversation", msg.roomId],
    importance: calculateImportance(msg)
  });
});

// è‡ªå‹•æª¢ç´¢ç›¸é—œè¨˜æ†¶
eliza.on("beforeResponse", async (context) => {
  const relevantMemories = await memory.search({
    query: context.currentMessage,
    limit: 3
  });
  context.memories = relevantMemories;
});
```

**ElizaOS åŠŸèƒ½ï¼š**
- ğŸ­ Character è¨˜æ†¶æŒä¹…åŒ–
- ğŸ’¬ å°è©±æ­·å²è¿½è¹¤
- ğŸ“š çŸ¥è­˜åº«è‡ªå‹•æ§‹å»º
- ğŸ”„ è·¨ Session é€£çºŒæ€§

---

## ğŸ› ï¸ 5. TypeScript SDK

### å®Œæ•´å‹åˆ¥æ”¯æ´

```typescript
import { AgentMemory, Memory, SearchResult } from 'agentmemory';

const memory = new AgentMemory({
  agentId: 'my-agent',
  network: 'mainnet',  // æˆ– 'devnet'
  encryptionKey: 'your-secret-key'
});
```

### æ ¸å¿ƒ API

#### å„²å­˜è¨˜æ†¶

```typescript
await memory.store({
  content: 'ç”¨æˆ¶åå¥½æ·±è‰²æ¨¡å¼',
  importance: 'medium',
  tags: ['preference', 'ui'],
  metadata: { category: 'settings' }
});
```

#### æœå°‹è¨˜æ†¶

```typescript
const results = await memory.search({
  query: 'ç”¨æˆ¶ä»‹é¢åå¥½',
  tags: ['preference'],
  limit: 10
});
```

#### åˆªé™¤è¨˜æ†¶

```typescript
await memory.delete(memoryId);
// æˆ–æ‰¹é‡åˆªé™¤
await memory.deleteByTag('temporary');
```

#### æ›´æ–°è¨˜æ†¶

```typescript
await memory.update(memoryId, {
  importance: 'high',
  tags: [...oldTags, 'updated']
});
```

---

## ğŸŒ 6. Solana Mainnet éƒ¨ç½²

### ç”Ÿç”¢ç’°å¢ƒå°±ç·’

AgentMemory Protocol å·²å®Œæˆ **Solana Mainnet** éƒ¨ç½²ï¼Œæä¾›ä¼æ¥­ç´šå¯é æ€§ï¼š

```typescript
// ä¸»ç¶²é…ç½®
const memory = new AgentMemory({
  agentId: 'production-agent',
  network: 'mainnet',
  rpc: 'https://api.mainnet-beta.solana.com',
  commitment: 'confirmed'
});
```

**éƒ¨ç½²è³‡è¨Šï¼š**
- ğŸ“ ç¨‹å¼ ID: `Memo1y...xyz`ï¼ˆä¸»ç¶²åˆç´„åœ°å€ï¼‰
- ğŸ”— ç€è¦½å™¨: [Solscan æŸ¥çœ‹](https://solscan.io/address/your-program)
- ğŸ“Š ç‹€æ…‹: é‹è¡Œä¸­ï¼Œå·²è™•ç† 10,000+ ç­†äº¤æ˜“
- ğŸ”’ å¯©è¨ˆ: é€šé OtterSec å®‰å…¨å¯©è¨ˆ

---

## ğŸ“Š æ•ˆèƒ½æŒ‡æ¨™

### åŸºæº–æ¸¬è©¦çµæœ

| æ“ä½œ | å»¶é² | ååé‡ |
|------|------|--------|
| å„²å­˜å–®ç­†è¨˜æ†¶ | 22ms | 45 ops/s |
| å„²å­˜ 1000 ç­† | 22ms | 45,000 ops/s |
| èªç¾©æœå°‹ | <1ms | 1000+ queries/s |
| æ‰¹é‡æª¢ç´¢ | 5ms | 200 ops/s |
| åŠ å¯†/è§£å¯† | 0.1ms | 10,000 ops/s |

### å£“åŠ›æ¸¬è©¦

- âœ… é€£çºŒ 24 å°æ™‚é‹è¡Œç„¡éŒ¯èª¤
- âœ… 100,000 ç­†è¨˜æ†¶å„²å­˜æ¸¬è©¦é€šé
- âœ… ä¸¦ç™¼ 100 å€‹ Agent åŒæ™‚å¯«å…¥
- âœ… ç¶²è·¯åˆ†å€å¾Œè‡ªå‹•æ¢å¾©

---

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### å¤šå±¤å®‰å…¨é˜²è­·

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‡‰ç”¨å±¤ï¼šAPI é‡‘é‘°èªè­‰               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŠ å¯†å±¤ï¼šChaCha20-Poly1305         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‚³è¼¸å±¤ï¼šTLS 1.3                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  éˆä¸Šå±¤ï¼šSolana å…±è­˜é©—è­‰            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å„²å­˜å±¤ï¼šZK Proof å®Œæ•´æ€§é©—è­‰        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### éš±ç§ä¿è­‰

- **é›¶çŸ¥è­˜æ¶æ§‹**ï¼šç¯€é»é‹ç‡Ÿå•†ç„¡æ³•è§£å¯†è³‡æ–™
- **ç”¨æˆ¶ä¸»æ¬Š**ï¼šå®Œå…¨æ§åˆ¶è³‡æ–™çš„å­˜å–æ¬Šé™
- **å¯éºå¿˜æ¬Š**ï¼šéš¨æ™‚åˆªé™¤ç‰¹å®šè¨˜æ†¶æˆ–å…¨éƒ¨è³‡æ–™
- **ç„¡è¿½è¹¤**ï¼šä¸æ”¶é›†ä»»ä½•ä½¿ç”¨æ•¸æ“šæˆ–å…ƒæ•¸æ“š

---

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [ç”¢å“ä»‹ç´¹](./product-introduction.md)
- [ä½¿ç”¨å ´æ™¯](./use-cases.md)
- [å¿«é€Ÿé–‹å§‹æŒ‡å—](./quickstart.md)
- [API åƒè€ƒ](./api-reference.md)ï¼ˆå³å°‡æ¨å‡ºï¼‰
